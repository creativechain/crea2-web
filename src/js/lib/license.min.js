var LicensePermission=function(a,b,c,e,d){this.flag=a;this.name=b;this.tag=c;this.icons=e;this.showName=void 0===d?!0:d};LicensePermission.prototype.getIcon=function(a){a=(void 0===a?"BLACK":a).toUpperCase();return this.icons[a]};var License=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];this.licensePermissions=b||[]};License.prototype.add=function(a,b){b=void 0===b?-1:b;-1<b?this.licensePermissions.splice(b,0,a):this.licensePermissions.push(a)};
License.prototype.remove=function(a){a=this.licensePermissions.indexOf(a);-1<a&&this.licensePermissions.splice(a,1)};License.prototype.clear=function(){this.licensePermissions.splice(0,this.licensePermissions.length)};License.prototype.getIcons=function(a){var b=[];this.licensePermissions.forEach(function(c){b.push(c.getIcon(a))});return b};License.prototype.getFlag=function(){var a=0;this.licensePermissions.forEach(function(b){a|=b.flag});return a};License.prototype.getLink=function(){return LICENSE_LINKS[this.getFlag()]};
License.prototype.has=function(a){var b=this.getFlag();return a===(b&a)};License.prototype.isCreativeCommons=function(){return this.has(1)};License.prototype.toString=function(){var a="";this.licensePermissions.forEach(function(b){b.showName&&(a.isEmpty()||(a+=" + "),a+=b.name)});return a};License.prototype.getTags=function(){var a=[];this.licensePermissions.forEach(function(b){a.push(b.tag)});return(this.isCreativeCommons()?"Creative Commons ":"")+a.join("-")};
License.prototype.toLocaleString=function(){var a="";this.licensePermissions.forEach(function(b){b.showName&&(a.isEmpty()||(a+="-"),a+=lang.LICENSE[b.name.toUpperCase()])});return a};License.fromFlag=function(a){if(0===a)return new License(LICENSE.NO_LICENSE);var b=new License,c=function(c){(a&c.flag)===c.flag&&b.add(c)};c(LICENSE.CREATIVE_COMMONS);c(LICENSE.ATTRIBUTION);c(LICENSE.NON_COMMERCIAL);c(LICENSE.SHARE_ALIKE);c(LICENSE.NON_DERIVATES);c(LICENSE.NON_PERMISSION);c(LICENSE.FREE_CONTENT);return b};
var LICENSE={NO_LICENSE:new LicensePermission(0,"WithoutLicense","WL",{}),CREATIVE_COMMONS:new LicensePermission(1,"CreativeCommons","CC",R.IMG.LICENSE.CREATIVE_COMMONS,!1),ATTRIBUTION:new LicensePermission(2,"Attribution","BY",R.IMG.LICENSE.ATTRIBUTION),SHARE_ALIKE:new LicensePermission(4,"ShareAlike","SA",R.IMG.LICENSE.SHARE_ALIKE),NON_COMMERCIAL:new LicensePermission(8,"NonCommercial","NC",R.IMG.LICENSE.NON_COMMERCIAL),NON_DERIVATES:new LicensePermission(16,"NonDerivates","ND",R.IMG.LICENSE.NON_DERIVATES),
NON_PERMISSION:new LicensePermission(32,lang.LICENSE.NON_PERMISSION,lang.LICENSE.NON_PERMISSION,R.IMG.LICENSE.COPYRIGHT),FREE_CONTENT:new LicensePermission(128,"FreeContent","CC0",R.IMG.LICENSE.FREE_CONTENT)},LICENSE_LINKS={3:"https://creativecommons.org/licenses/by/4.0/",7:"https://creativecommons.org/licenses/by-sa/4.0/",11:"https://creativecommons.org/licenses/by-nc/4.0/",15:"https://creativecommons.org/licenses/by-nc-sa/4.0/",19:"https://creativecommons.org/licenses/by-nd/4.0/",27:"https://creativecommons.org/licenses/by-nc-nd/4.0/",
129:"https://creativecommons.org/publicdomain/zero/1.0/"};
