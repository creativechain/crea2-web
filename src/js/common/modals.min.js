var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,c,b){a!=Array.prototype&&a!=Object.prototype&&(a[c]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,c){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:c})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(b){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(b||"")+"_"+c++,b)}var c=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};
$jscomp.iteratorFromArray=function(a,c){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var b=0,d={next:function(){if(b<a.length){var e=b++;return{value:c(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(a,c,b,d){if(c){b=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in b||(b[e]={});b=b[e]}a=a[a.length-1];d=b[a];c=c(d);c!=d&&null!=c&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:c})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
(function(){function a(){var a={title:"",body:[]};d||(d=new Vue({el:"#modal-alert",data:{lang:lang,config:clone(a),show:!1},mounted:function(){var a=this;$("#modal-alert").on("modalClosed.modals.mr",function(){a.closeModal()})},methods:{cleanModal:function(){this.config=clone(a)},closeModal:function(a){cancelEventPropagation(a);this.cleanModal();this.show=!1},linkfy:linkfy}}))}function c(){var a={username:{disabled:!1,value:"",error:null},password:{value:"",error:null}};b||(b=new Vue({el:"#modal-role",
data:{lang:lang,id:null,title:"",role:null,login:!1,inputs:clone(a),show:!1},mounted:function(){var a=this;$("#modal-role").on("modalClosed.modals.mr",function(){a.closeModal()})},methods:{cleanModal:function(){this.inputs=clone(a);this.role=this.title="";this.id=null},closeModal:function(a){cancelEventPropagation(a);this.cleanModal();this.show=!1},checkUsername:function(a){a=a.target.value.split("/")[0];var b=this;crea.utils.validateAccountName(a)?b.inputs.username.error=b.lang.ERROR.INVALID_USERNAME:
crea.api.lookupAccountNames([a],function(a,c){a?(console.error(a),b.inputs.username.error=b.lang.ERROR.INVALID_USERNAME):b.inputs.username.error=null==c[0]?b.lang.ERROR.USERNAME_NOT_EXISTS:null})},fetchKey:function(a){cancelEventPropagation(a);if(!this.inputs.username.error&&this.inputs.password.value){var b=this,c=this.inputs.username.value.split("/")[0],d=this.role,e=Session.create(c,this.inputs.password.value,d);e.login(function(a,g){catchError(a)||(b.login&&e.save(),creaEvents.emit("crea.auth.role."+
b.id,e.account.keys[d].prv,c),b.closeModal())})}}}}))}var b,d;creaEvents.on("crea.alert",function(a){d.config=a;d.show=!0});creaEvents.on("crea.auth.role",function(a,c,d,f){setTimeout(function(){b.id=f;b.inputs.username.value=a;b.role=c;b.login=d;b.show=!0},300)});creaEvents.on("crea.content.loaded",function(){a();c()})})();
