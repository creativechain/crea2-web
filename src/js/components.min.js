"use strict";var LIKE_STATE={LIKE_OP:0,NO_LIKE:1,LIKED:2,NO_LIKE_END:3,LIKED_END:4};var WITNESS_STATE={VOTE_OP:0,NO_VOTE:1,VOTED:2,NO_VOTE_END:3,VOTED_END:4};var RECOMMEND_STATE={RECOMMEND_OP:0,RECOMMENDED:1,NO_RECOMMENDED:2};Vue.component("recommend",{template:'<div>           <template v-if="session && !isOwn()">               <div v-bind:class="actionClasses" v-on:click="makeRecommend()">                   <div v-bind:class="recommendedClasses"></div>               </div>           </template>            <div v-if="feed" class="row-recommended">                <p>                   <img src="/img/recommended/recommended_icon_1.svg" alt=""> {{ lang.PUBLICATION.RECOMMEND_BY }} <a v-bind:href="\'/@\' + recommendedBy()">@{{ recommendedBy() }}</a>                    <template v-if="countRecommended() > 0">                       {{ lang.COMMON.AND + " " + countRecommended() + " " + lang.COMMON.MORE }}                   </template>                </p>            </div></div>',props:{post:Object,session:[Object,Boolean],user:[Object,Boolean],feed:{type:Boolean,"default":false}},watch:{post:{immediate:true,deep:true,handler:function handler(b,a){this.$forceUpdate()}},user:{immediate:true,deep:true,handler:function handler(b,a){this.$forceUpdate()}},feed:{immediate:true,handler:function handler(b,a){this.$forceUpdate()}}},computed:{recommendedClasses:function(){return{"icon-recommended":true,"hover-recommended":this.state!==RECOMMEND_STATE.RECOMMENDED,"my-active":this.state===RECOMMEND_STATE.RECOMMENDED}},actionClasses:function(){return{hidden:!this.hover&&this.state!==RECOMMEND_STATE.RECOMMEND_OP,"row-circle-recommended":true,"pre-recommended":this.state===RECOMMEND_STATE.RECOMMEND_OP,parpadeo:this.state===RECOMMEND_STATE.RECOMMEND_OP}}},data:function data(){return{lang:lang,states:RECOMMEND_STATE,state:RECOMMEND_STATE.NO_RECOMMENDED,hover:false}},methods:{isOwn:function(){if(this.session){return this.session.account.username===this.post.author}return false},isRecommendedByUser:function(){return this.post.reblogged_by.includes(this.user.name)},recommendedBy:function(){var b=this;var a=false;this.user.followings.forEach(function(c){if(b.post.reblogged_by.includes(c)){a=c}});return a},countRecommended:function(){var b=this;var a=0;this.user.followings.forEach(function(c){if(b.post.reblogged_by.includes(c)){a+=c}});return a},makeRecommend:function(){var a=this;if(!this.isRecommendedByUser()&&this.state!==this.states.RECOMMEND_OP){this.state=RECOMMEND_STATE.RECOMMEND_OP;recommendPost(a.post.author,a.post.permlink,true,function(c,b){if(c){a.state=RECOMMEND_STATE.NO_RECOMMENDED;a.$emit("recommend",c,null,a.post)}else{a.post.reblogged_by.push(a.session.account.username);a.state=RECOMMEND_STATE.RECOMMENDED;a.$emit("recommend",null,b,a.post)}})}}},mounted:function(){var a=this;this.state=this.isRecommendedByUser()?RECOMMEND_STATE.RECOMMENDED:RECOMMEND_STATE.NO_RECOMMENDED;$(this.$el).parent().hover(function(){a.hover=true;a.$forceUpdate();console.log("hover",true)},function(){a.hover=false;a.$forceUpdate();console.log("hover",false)});console.log(this.feed,this.recommendedClasses)},updated:function(){if(this.state!==RECOMMEND_STATE.RECOMMEND_OP){this.state=this.isRecommendedByUser()?RECOMMEND_STATE.RECOMMENDED:RECOMMEND_STATE.NO_RECOMMENDED}}});Vue.component("post-amount",{template:"<span class='amount-price'>    <template v-if='symbefore'>       {{ assetPart(value, 'sym') }}       {{ assetPart(value, 'int') + '.'  }}       <span>{{ assetPart(value, 'dec') }}</span>   </template>   <template v-else>       {{ assetPart(value, 'int') + '.' }}       <span>{{ assetPart(value, 'dec') }}</span>       {{ assetPart(value, 'sym') }}   </template></span>",props:{value:[Number,String,Object],symbol:[String],symbefore:{type:Boolean,"default":false}},methods:{assetPart:function assetPart(b,a){b=Asset.parse(b);switch(a){case"int":return b.toPlainString(null,false).split(".")[0];case"dec":return b.toPlainString(null,false).split(".")[1];case"sym":return this.symbol?this.symbol:b.asset.symbol;default:return Asset.parse(b).toFriendlyString()}}}});Vue.component("amount",{template:"<div class='amount-price'>    <span>{{ assetPart(value, 'int') + '.' }}</span>   <span>{{ assetPart(value, 'dec') }}</span>   <span>{{ assetPart(value, 'sym') }}</span></div>",props:{value:[Number,String,Object]},methods:{assetPart:function assetPart(b,a){b=Asset.parse(b);switch(a){case"int":return b.toPlainString(null,false).split(".")[0];case"dec":return b.toPlainString(null,false).split(".")[1];case"sym":return b.asset.symbol;default:return Asset.parse(b).toFriendlyString()}}}});Vue.component("slider",{template:'<div class="slider slider-horizontal" v-on:mousedown="onMouseDown" v-on:mouseup="onMouseUp" v-on:mousemove="onMouse"><div class="slider-track">   <div class="slider-track-low" style="left: 0px; width: 0px;"></div>   <div class="slider-selection" v-bind:style="{ left: \'0%\', width: percentage + \'%\' }"></div>   <div class="slider-selection hidden" v-bind:style="{ right: \'0px\', width: (100 - percentage) + \'%\' }"></div></div><div class="slider-handle min-slider-handle round" v-bind:style="{left: percentage + \'%\'}" tabindex="0"></div></div>',props:{initvalue:{type:Number,"default":0},min:{type:Number,"default":0},max:{type:Number,"default":100}},watch:{initvalue:function initvalue(b,a){console.log(b,a);this.$forceUpdate()}},data:function data(){return{value:0,lastInitValue:0,percentage:0,draggable:false}},mounted:function mounted(){this.calcInitValue()},updated:function updated(){this.calcInitValue()},methods:{onMouse:function onMouse(b){if(b){b.preventDefault()}if(!this.draggable){return true}var a=$(this.$el).offset();var c=b.pageX-a.left;this.calcValues(c);return true},onMouseDown:function onMouseDown(a){this.draggable=true;this.onMouse(a)},onMouseUp:function onMouseUp(a){this.draggable=false},calcInitValue:function calcInitValue(){if(this.initvalue!==this.lastInitValue){var a=this.$el.offsetWidth;var b=this.initvalue*a/this.max;this.lastInitValue=this.initvalue;this.calcValues(b)}},calcValues:function calcValues(c){var b=this.$el.offsetWidth;var d=c*this.max/b;var a=d/this.max*100;if(d<0){d=0;a=0}if(d>this.max){d=this.max;a=100}this.updateValues(d,a)},updateValues:function updateValues(b,a){this.value=b;this.percentage=a;this.$emit("change",b,a)}}});Vue.component("post-like-big",{template:'<div v-on:mouseover="onOver(true)" v-on:mouseleave="onOver(false)" class="circle-like-post bs-popover-left" v-bind:class="circleClasses" role="button" data-toggle="popover" data-trigger="hover" data-placement="left" data-html="true" v-bind:title="post.up_votes.length  + \' Likes\'" v-bind:data-content="payouts">   <div class="lds-heart size-20 size-30-like post-like" v-bind:class="likeClasses" v-on:click="makeVote">       <div></div>   </div></div>',props:{payouts:[String,Boolean],session:[Object,Boolean],post:{type:Object}},watch:{post:{immediate:true,deep:true,handler:function handler(b,a){this.state=this.hasVote()?this.states.LIKED:this.states.NO_LIKE}}},computed:{circleClasses:function circleClasses(){return{"circle-like-post-active":(!this.over&&this.state==this.states.LIKED)||(this.over&&(this.state==this.states.NO_LIKE||this.state==this.states.NO_LIKE_END))}},likeClasses:function likeClasses(){return{"like-normal":!this.over&&(this.state==this.states.NO_LIKE||this.state==this.states.NO_LIKE_END)||(this.over&&(this.state==this.states.LIKED||this.state==this.states.LIKED_END)),"like-normal-activate":!this.over&&(this.state==this.states.LIKED||this.state==this.states.LIKED_END)||(this.over&&(this.state==this.states.NO_LIKE||this.state==this.states.NO_LIKE_END)),"active-like":this.state==this.states.LIKE_OP}}},data:function data(){return{R:R,states:LIKE_STATE,state:0,over:false}},methods:{onOver:function onOver(a){this.over=a},hasPaid:function hasPaid(){var b=new Date();var a=toLocaleDate(this.$props.post.cashout_time);return b.getTime()>a.getTime()},getVote:function getVote(){var e=this.$props.session;var d=this.$props.post;if(e&&d){var c=d.up_votes;for(var a=0;a<c.length;a++){var b=c[a];if(e.account.username===b.voter){return b}}}return null},removeVote:function removeVote(f){var e=this.post;if(e){var c=e.up_votes;var d=-1;for(var a=0;a<c.length;a++){var b=c[a];if(f===b.voter){d=a;break}}if(d>-1){this.post.up_votes.slice(d,1);this.$forceUpdate()}}},hasVote:function hasVote(){var a=this.getVote();return a!=null},makeVote:function makeVote(d){if(d){d.preventDefault()}if(this.state!==this.states.LIKE_OP){var c=this;var e=this.$props.session;var a=this.$props.post;var f=e?e.account.username:null;var b=c.hasVote()?0:10000;requireRoleKey(f,"posting",function(h,g){c.state=c.states.LIKE_OP;crea.broadcast.vote(h,g,a.author,a.permlink,b,function(j,i){console.log(j,i);if(j){c.$emit("vote",j,null,a)}else{if(b>0){c.post.up_votes.push({voter:g,author:a.author,permlink:a.permlink,percent:b});c.state=c.states.LIKED_END}else{c.removeVote(g);c.state=c.states.NO_LIKE_END}c.$emit("vote",null,i,a)}})})}}},mounted:function mounted(){this.state=this.hasVote()?LIKE_STATE.LIKED:LIKE_STATE.NO_LIKE},updated:function updated(){if(this.state!=LIKE_STATE.LIKE_OP){this.state=this.hasVote()?LIKE_STATE.LIKED:LIKE_STATE.NO_LIKE}}});Vue.component("post-like",{template:'<div class="text-right">   <div class="lds-heart size-20 post-like" v-bind:class="likeClasses" v-on:click="makeVote">       <div></div>   </div>   <div class="dropdown inline post-like-count">      <span class="dropdown__trigger"> {{ post.up_votes.length }}</span>       <div class="dropdown__container">           <div>               <div class="row">                   <div class="col-4 col-sm-3 col-md-6 col-lg-2 dropdown__content amount-post-view-home">                       <ul>                           <li v-for="v in (post.up_votes.length > 10 ? 10 : post.up_votes.length)">                               <a v-if="(v-1) < 10" class="text-truncate" v-bind:href="\'/@\' + post.up_votes[v-1].voter">+{{ post.up_votes[v-1].voter }}</a>                               <span v-else class="text-truncate" >+{{ "..and " + post.up_votes.length - 10  + " users"}}</span>                           </li>                       </ul>                   </div>               </div>           </div>       </div>   </div></div>',props:{session:[Object,Boolean],post:{type:Object}},watch:{post:{immediate:true,deep:true,handler:function handler(b,a){this.state=this.hasVote()?this.states.LIKED:this.states.NO_LIKE}}},data:function data(){return{R:R,states:LIKE_STATE,state:0}},computed:{likeClasses:function likeClasses(){return{"like-normal":this.state==this.states.NO_LIKE||this.state==this.states.NO_LIKE_END,"like-normal-activate":this.state==this.states.LIKED||this.state==this.states.LIKED_END,"active-like":this.state==this.states.LIKE_OP}}},methods:{hasPaid:function hasPaid(){var b=new Date();var a=toLocaleDate(this.$props.post.cashout_time);return b.getTime()>a.getTime()},getVote:function getVote(){var e=this.$props.session;var d=this.$props.post;if(e&&d){var c=d.up_votes;for(var a=0;a<c.length;a++){var b=c[a];if(e.account.username===b.voter){return b}}}return null},removeVote:function removeVote(f){var e=this.post;if(e){var c=e.up_votes;var d=-1;for(var a=0;a<c.length;a++){var b=c[a];if(f===b.voter){d=a;break}}console.log(d,f);if(d>-1){this.post.up_votes.slice(d,1);this.$forceUpdate()}}},hasVote:function hasVote(){var a=this.getVote();return a!=null},makeVote:function makeVote(d){if(d){d.preventDefault()}if(this.state!==this.states.LIKE_OP){var c=this;var e=this.$props.session;var a=this.$props.post;var f=e?e.account.username:null;var b=c.hasVote()?0:10000;requireRoleKey(f,"posting",function(h,g){c.state=c.states.LIKE_OP;crea.broadcast.vote(h,g,a.author,a.permlink,b,function(j,i){console.log(j,i);if(j){c.$emit("vote",j,null,a)}else{if(b>0){c.post.up_votes.push({voter:g,author:a.author,permlink:a.permlink,percent:b});c.state=c.states.LIKED_END}else{c.removeVote(g);c.state=c.states.NO_LIKE_END}c.$emit("vote",null,i,a)}})})}}},mounted:function mounted(){this.state=this.hasVote()?LIKE_STATE.LIKED:LIKE_STATE.NO_LIKE},updated:function updated(){if(this.state!=LIKE_STATE.LIKE_OP){this.state=this.hasVote()?LIKE_STATE.LIKED:LIKE_STATE.NO_LIKE}}});Vue.component("comment-like",{template:'<div>   <div class="lds-heart size-20 comment-like" v-bind:class="likeClasses" v-on:click="makeVote">       <div></div>   </div>   <span>{{ post.up_votes.length }}</span></div>',props:{session:[Object,Boolean],post:{type:Object}},watch:{post:{immediate:true,deep:true,handler:function handler(b,a){this.state=this.hasVote()?this.states.LIKED:this.states.NO_LIKE}}},data:function data(){return{R:R,states:LIKE_STATE,state:0}},computed:{likeClasses:function likeClasses(){return{"like-normal":this.state===this.states.NO_LIKE||this.state===this.states.NO_LIKE_END,"like-normal-activate":this.state===this.states.LIKED||this.state===this.states.LIKED_END,"active-like":this.state===this.states.LIKE_OP}}},methods:{hasPaid:function hasPaid(){var b=new Date();var a=toLocaleDate(this.$props.post.cashout_time);return b.getTime()>a.getTime()},getVote:function getVote(){var e=this.$props.session;var d=this.$props.post;if(e&&d){var c=d.up_votes;for(var a=0;a<c.length;a++){var b=c[a];if(e.account.username===b.voter){return b}}}return null},removeVote:function removeVote(f){var e=this.post;if(e){var c=e.up_votes;var d=-1;for(var a=0;a<c.length;a++){var b=c[a];if(f===b.voter){d=a;break}}console.log(d,f);if(d>-1){this.post.up_votes.slice(d,1);this.$forceUpdate()}}},hasVote:function hasVote(){var a=this.getVote();return a!=null},makeVote:function makeVote(d){if(d){d.preventDefault()}if(this.state!==this.states.LIKE_OP){var c=this;var e=this.$props.session;var a=this.$props.post;var f=e?e.account.username:null;var b=c.hasVote()?0:10000;requireRoleKey(f,"posting",function(h,g){c.state=c.states.LIKE_OP;crea.broadcast.vote(h,g,a.author,a.permlink,b,function(j,i){console.log(j,i);if(j){c.$emit("vote",j,null,a)}else{if(b>0){c.post.up_votes.push({voter:g,author:a.author,permlink:a.permlink,percent:b});c.state=c.states.LIKED_END}else{c.removeVote(g);c.state=c.states.NO_LIKE_END}c.$emit("vote",null,i,a)}})})}}},mounted:function mounted(){this.state=this.hasVote()?LIKE_STATE.LIKED:LIKE_STATE.NO_LIKE},updated:function updated(){if(this.state!=LIKE_STATE.LIKE_OP){this.state=this.hasVote()?LIKE_STATE.LIKED:LIKE_STATE.NO_LIKE}}});Vue.component("like",{template:'<div>   <div class="lds-heart size-20" v-bind:class="likeClasses" v-on:click="makeVote">       <div></div>   </div>   <span>{{ post.up_votes.length }}</span></div>',props:{session:[Object,Boolean],post:{type:Object}},watch:{post:{immediate:true,deep:true,handler:function handler(b,a){this.state=this.hasVote()?this.states.LIKED:this.states.NO_LIKE}}},data:function data(){return{R:R,states:LIKE_STATE,state:0}},computed:{likeClasses:function likeClasses(){return{"like-normal":this.state===this.states.NO_LIKE||this.state===this.states.NO_LIKE_END,"like-normal-activate":this.state===this.states.LIKED||this.state===this.states.LIKED_END,"active-like":this.state===this.states.LIKE_OP}}},methods:{hasPaid:function hasPaid(){var b=new Date();var a=toLocaleDate(this.$props.post.cashout_time);return b.getTime()>a.getTime()},getVote:function getVote(){var e=this.$props.session;var d=this.$props.post;if(e&&d){var c=d.up_votes;for(var a=0;a<c.length;a++){var b=c[a];if(e.account.username===b.voter){return b}}}return null},removeVote:function removeVote(f){var e=this.post;if(e){var c=e.up_votes;var d=-1;for(var a=0;a<c.length;a++){var b=c[a];if(f===b.voter){d=a;break}}console.log(d,f);if(d>-1){this.post.up_votes.slice(d,1);this.$forceUpdate()}}},hasVote:function hasVote(){var a=this.getVote();return a!=null},makeVote:function makeVote(d){if(d){d.preventDefault()}if(this.state!==this.states.LIKE_OP){var c=this;var e=this.$props.session;var a=this.$props.post;var f=e?e.account.username:null;var b=c.hasVote()?0:10000;requireRoleKey(f,"posting",function(h,g){c.state=c.states.LIKE_OP;crea.broadcast.vote(h,g,a.author,a.permlink,b,function(j,i){console.log(j,i);if(j){c.$emit("vote",j,null,a)}else{if(b>0){c.post.up_votes.push({voter:g,author:a.author,permlink:a.permlink,percent:b});c.state=c.states.LIKED_END}else{c.removeVote(g);c.state=c.states.NO_LIKE_END}c.$emit("vote",null,i,a)}})})}}},mounted:function mounted(){this.state=this.hasVote()?LIKE_STATE.LIKED:LIKE_STATE.NO_LIKE},updated:function updated(){if(this.state!==LIKE_STATE.LIKE_OP){this.state=this.hasVote()?LIKE_STATE.LIKED:LIKE_STATE.NO_LIKE}}});Vue.component("witness-like",{template:'<div><span class="d-flex">{{ index }}   <div class="lds-heart size-20" v-bind:class="voteClasses" v-on:click="makeVote" style="margin-top: 5px;">       <div></div>   </div></span></div>',props:{session:[Object,Boolean],account:[Object,Boolean],witness:Object,index:Number},watch:{account:{immediate:true,deep:true,handler:function handler(b,a){this.state=this.hasVote()?this.states.VOTED:this.states.NO_VOTE}}},data:function data(){return{R:R,states:WITNESS_STATE,state:WITNESS_STATE.NO_VOTE}},computed:{voteClasses:function(){return{"like-normal":this.state===this.states.NO_VOTE||this.state===this.states.NO_VOTE_END,"like-normal-activate":this.state===this.states.VOTED||this.state===this.states.VOTED_END,"active-like":this.state===this.states.VOTE_OP}}},methods:{removeVote:function removeVote(){var a=this.account.witness_votes.indexOf(this.witness.owner);if(a>-1){this.account.witness_votes.splice(a,1)}this.$forceUpdate()},hasVote:function hasVote(){var b=this.$props.session;var a=this.$props.account;if(b&&a){return a.witness_votes.indexOf(this.$props.witness.owner)>=0}return false},makeVote:function makeVote(d){if(d){d.preventDefault()}if(this.state!==this.states.VOTE_OP){var c=this;var e=this.$props.session;var a=this.$props.witness;var f=e?e.account.username:null;var b=!this.hasVote();console.log("Voting for",a.owner,b);requireRoleKey(f,"active",function(h,g){c.state=c.states.VOTE_OP;crea.broadcast.accountWitnessVote(h,g,a.owner,b,function(j,i){if(j){c.$emit("vote",j)}else{if(b){c.account.witness_votes.push(a.owner);c.state=c.states.VOTED_END}else{c.removeVote();c.state=c.states.NO_VOTE_END}c.$emit("vote",null,i)}})})}}},mounted:function mounted(){this.state=this.hasVote()?this.states.VOTED:this.states.NO_VOTE},updated:function updated(){if(this.state!==this.states.VOTE_OP){this.state=this.hasVote()?this.states.VOTED:this.states.NO_VOTE}}});var FOLLOW_STATE={NO_FOLLOWING:0,UNFOLLOWED:1,FOLLOWING:2,FOLLOWED:3,UNFOLLOWING_OP:4,FOLLOWING_OP:5};Vue.component("btn-follow",{template:'<div v-on:click="performFollow" v-on:mouseleave="onleave" v-on:mouseover="onover" class="btn btn-sm running ld ld-ext-right font-weight-bold" v-bind:class="btnClasses">\n<div class="btn__text ld-spin-fast ld" v-bind:class="textClasses"></div>{{ text }}<div></div>\n</div>',props:{session:{type:[Object,Boolean]},account:{type:[Object,Boolean]},user:{type:String}},watch:{user:{immediate:true,deep:true,handler:function handler(b,a){this.$forceUpdate()}},account:{immediate:true,deep:true,handler:function handler(b,a){this.$forceUpdate()}}},computed:{btnClasses:function btnClasses(){return{"btn--primary":this.state===this.states.NO_FOLLOWING||this.state===this.states.UNFOLLOWED||this.state===this.states.FOLLOWING_OP,"btn-following":!this.over&&(this.state===this.states.FOLLOWING||this.state===this.states.FOLLOWED)||this.state===this.states.UNFOLLOWING_OP,"btn-unfollow":this.over&&(this.state===this.states.FOLLOWING||this.state===this.states.FOLLOWED)}},textClasses:function textClasses(){return{text__dark:!this.over&&(this.state===this.states.FOLLOWING||this.state===this.states.FOLLOWED),"ld-ring":this.state===this.states.FOLLOWING_OP||this.state===this.states.UNFOLLOWING_OP,"ld-ring-blue":this.state===this.states.UNFOLLOWING_OP}}},data:function data(){return{lang:lang,over:false,states:FOLLOW_STATE,state:FOLLOW_STATE.NO_FOLLOWING,lastState:FOLLOW_STATE.NO_FOLLOWING,text:null}},methods:{isStateOp:function isStateOp(){return this.state===this.states.FOLLOWING_OP||this.state===this.states.UNFOLLOWING_OP},isStateFollowing:function isStateFollowing(a){return a===this.states.FOLLOWING||a===this.states.FOLLOWED},performFollow:function performFollow(){if(!this.isStateOp()){var a="follow";var c=this;var d=this.$props.session;var b=this.state;this.state=this.isStateFollowing(this.state)?this.states.UNFOLLOWING_OP:this.states.FOLLOWING_OP;if(d){var e={follower:d.account.username,following:this.$props.user,what:this.isStateFollowing(b)?[]:["blog"]};e=[a,e];requireRoleKey(d.account.username,"posting",function(f){crea.broadcast.customJson(f,[],[d.account.username],a,jsonstring(e),function(h,g){if(h){c.state=b;c.$emit("follow",h)}else{c.state=c.isStateFollowing(b)?c.states.UNFOLLOWED:c.states.FOLLOWED;c.$emit("follow",null,g)}})})}else{this.state=b;this.$emit("follow",Errors.USER_NOT_LOGGED)}}},onover:function onover(){this.over=true},onleave:function onleave(){this.over=false},isFollowing:function isFollowing(){return this.session&&this.account.followings.includes(this.user)},updateText:function updateText(){switch(this.state){case this.states.NO_FOLLOWING:case this.states.UNFOLLOWED:this.text=this.lang.BUTTON.FOLLOW;break;case this.states.FOLLOWING:case this.states.FOLLOWED:this.text=this.over?this.lang.BUTTON.UNFOLLOW:this.lang.BUTTON.FOLLOWING;break;case this.states.FOLLOWING_OP:this.text=this.text=this.lang.BUTTON.FOLLOW;break;case this.states.UNFOLLOWING_OP:this.text=this.lang.BUTTON.FOLLOWING}}},updated:function updated(){if(!this.isStateOp()){this.state=this.isFollowing()?this.states.FOLLOWING:this.states.NO_FOLLOWING}this.updateText()},mounted:function mounted(){this.state=this.isFollowing()?this.states.FOLLOWING:this.states.NO_FOLLOWING;this.updateText()}});Vue.component("username",{template:'<a v-bind:href="\'/@\' + user" class="color-name"><p>{{ name || user }}</p></a>',props:{user:{type:String},name:{type:String},inline:{type:Number,"default":1}}});Vue.component("linkname",{template:"<a v-bind:href=\"'/@' + user\" class=\"link-username\">{{ name || '@' + user }}</a>",props:{user:{type:String},name:{type:String}}});Vue.component("avatar",{template:"<div class=\"img-user-avatar\" v-bind:style=\"{ 'background-image': 'url(' + ( getDefaultAvatar(account)) + ')' }\"></div>",props:{account:{type:Object}},methods:{getDefaultAvatar:R.getAvatar}});Vue.component("taginput",{template:'<input v-bind:id="id" class="validate-required" type="text" v-bind:value="value" v-bind:data-role="data-role" v-bind:data-options="data-options" v-bind:placeholder="placeholder" />',props:{id:{type:String},value:{type:String},"data-role":{type:String,"default":"tagsinput"},placeholder:{type:String},"data-options":{type:String}},mounted:function mounted(){var a=$("#"+this.id);console.log("Mounted tags",a,this.id,this.options,this.role)}});Vue.component("ckeditor",{template:'<textarea v-bind:id="id" v-bind:value="value" rows=30 cols=80></textarea>',props:{value:{type:String},id:{type:String,"default":"editor"}},beforeUpdate:function beforeUpdate(){var a=this.id;if(this.value!==CKEDITOR.instances[a].getData()){CKEDITOR.instances[a].setData(this.value)}},methods:{onInput:function onInput(a){console.log(a);this.$emit("input",true)}},mounted:function mounted(){var d=this;var a=this.id;console.log(this.value);var b={};b.toolbarGroups=[{name:"clipboard",groups:["clipboard","undo"]},{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"links",groups:["links"]},{name:"styles",groups:["styles"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi","paragraph"]},{name:"editing",groups:["find","selection","spellchecker","editing"]},{name:"insert",groups:["insert"]},{name:"forms",groups:["forms"]},{name:"tools",groups:["tools"]},{name:"document",groups:["mode","document","doctools"]},{name:"others",groups:["others"]},"/",{name:"colors",groups:["colors"]},{name:"about",groups:["about"]}];b.removeButtons="Subscript,Superscript,PasteText,PasteFromWord,Undo,Redo,Scayt,Anchor,Image,Maximize,Source,HorizontalRule,Table,SpecialChar,Strike,RemoveFormat,NumberedList,Blockquote,About,BulletedList";b.disallowedContent="img script *[on*] *[style]";b.format_tags="p;h1;h2;h3;h4;pre";b.removeDialogTabs="image:advanced;link:advanced";b.resize_enabled=true;CKEDITOR.replace(a,b);CKEDITOR.instances[a].setData(this.value);var c=this;CKEDITOR.instances[a].on("change",function(){var e=CKEDITOR.instances[a].getData();if(e!==d.value){c.$emit("input",e)}})},destroyed:function destroyed(){var a=this.id;if(CKEDITOR.instances[a]){CKEDITOR.instances[a].destroy()}}});